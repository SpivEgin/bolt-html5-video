!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.saveData=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,a={},r=document.querySelectorAll(".loadVideo"),n=document.createDocumentFragment(),i=function(t,e,a){if(t)for(var r=0;r<e.length;r++)a.classList.add(e[r])},d=function(t,e,a,r){t&&e.setAttribute(a,r)},o=function(t){var e,a=t.getAttribute("data-save"),r=JSON.parse(a);for(e in r)if(r.hasOwnProperty(e)){var i=document.createElement("source");i.src=e,i.type="video/"+r[e],n.appendChild(i)}},s=function(t,e){var a=t.getAttribute("data-tracks"),r=JSON.parse(a),i=Object.keys(r);i.forEach(function(t){var e=document.createElement("track");for(var a in r[t])r[t].hasOwnProperty(a)&&(e.kind=r[t].kind,e.srclang=r[t].srclang,e.label=r[t].label,e.src=r[t].src,r[t]["default"]&&(e["default"]="default"));n.appendChild(e)})},u=function(t,e){var a,r=t.target,u=r.parentNode,c=document.createElement("video"),l=r.getAttribute("data-id"),f=r.getAttribute("data-class"),p=r.getAttribute("data-attribs"),b=r.getAttribute("data-preload"),g=r.getAttribute("data-width-height"),v=r.getAttribute("data-poster"),h=r.getAttribute("data-tracks"),m=JSON.parse(f),A=JSON.parse(p),y=JSON.parse(g);d(l,c,"id",l),d(b,c,"preload",b),d(v,c,"poster",v);for(var O=0;O<A.length;O++)d(p,c,A[O],"");if(i(f,m,c),g)for(a in y)y.hasOwnProperty(a)&&c.setAttribute(a,y[a]);o(r),h&&s(r,c),c.appendChild(n),u.appendChild(c),r.setAttribute("hidden",""),r.setAttribute("style","display:none"),r.previousElementSibling.setAttribute("hidden","")},c=function(t){u(t)};return a.destroy=function(){e&&(t.document.removeEventListener("click",c,!1),e=null)},a.init=function(t){a.destroy();for(var e=0,n=r.length;e<n;e++)r[e].addEventListener("click",c,!1)},a}),saveData.init();