!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.saveData=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,a={},r=document.querySelectorAll(".loadVideo"),n=document.createDocumentFragment(),i=function(t,e,a){if(t)for(var r=0;r<e.length;r++)a.classList.add(e[r])},d=function(t,e,a,r){t&&e.setAttribute(a,r)},o=function(t){var e,a=t.getAttribute("data-save"),r=JSON.parse(a);for(e in r)if(r.hasOwnProperty(e)){var i=document.createElement("source");i.src=e,i.type="video/"+r[e],n.appendChild(i)}},s=function(t,e){var a=t.getAttribute("data-tracks"),r=JSON.parse(a),i=Object.keys(r);i.forEach(function(t){var e=document.createElement("track");for(var a in r[t])r[t].hasOwnProperty(a)&&(e.kind=r[t].kind,e.srclang=r[t].srclang,e.label=r[t].label,e.src=r[t].src,r[t]["default"]&&(e["default"]="default"));n.appendChild(e)})},c=function(t,e){var a=t.target,r=a.parentNode,c=document.createElement("video"),u=a.getAttribute("data-id"),l=a.getAttribute("data-class"),f=a.getAttribute("data-attribs"),p=a.getAttribute("data-preload"),b=a.getAttribute("data-width-height"),g=a.getAttribute("data-poster"),h=a.getAttribute("data-tracks"),v=JSON.parse(l),m=JSON.parse(f),A=JSON.parse(b);d(u,c,"id",u),d(p,c,"preload",p),d(g,c,"poster",g);for(var y=0;y<m.length;y++)d(f,c,m[y],"");i(l,v,c),b&&(d(A[0],c,"width",A[0]),d(A[1],c,"height",A[1])),o(a),h&&s(a,c),c.appendChild(n),r.appendChild(c),a.setAttribute("hidden",""),a.setAttribute("style","display:none"),a.previousElementSibling.setAttribute("hidden","")},u=function(t){c(t)};return a.destroy=function(){e&&(t.document.removeEventListener("click",u,!1),e=null)},a.init=function(t){a.destroy();for(var e=0,n=r.length;e<n;e++)r[e].addEventListener("click",u,!1)},a}),saveData.init();